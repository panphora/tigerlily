!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t=t||self).tigerlily=r()}(this,function(){function t(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function r(r,n){var e;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(e=function(r,n){if(r){if("string"==typeof r)return t(r,void 0);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(r,void 0):void 0}}(r))||n&&r&&"number"==typeof r.length){e&&(r=e);var o=0;return function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(e=r[Symbol.iterator]()).next.bind(e)}var n,e,o={},i=Object.prototype,a=Function.prototype.toString,u=i.hasOwnProperty,c=a.call(Object),f=i.toString,l=(n=Object.getPrototypeOf,e=Object,function(t){return n(e(t))});function y(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new Error("tigerlily requires a database name");var e=n.defaults,i=void 0===e?{}:e,y=JSON.parse(localStorage.getItem(t)||"{}");return y=Object.assign(i,y),new Proxy(y,function n(e){return{get:function(t,r){return"object"==typeof t[r]&&null!==t[r]?new Proxy(t[r],n(e)):t[r]},set:function(n,i,y){var s=n[i];n[i]=y,localStorage.setItem(t,JSON.stringify(e));var p=function(t,r){if(t===r)return"";var n="";return function t(r,n,e){e=e||"",Array.isArray(r)?function(r,n,e){r.forEach((r,o,i)=>{const a=`${e}[${o}]`;n.call(i,r,o,i,a),t(i[o],n,a)})}(r,n,e):function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=f.call(t)||function(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}(t))return!1;var r=l(t);if(null===r)return!0;var n=u.call(r,"constructor")&&r.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}(r)&&function(r,n,e){for(const o in r){const i=e?`${e}.${o}`:o;n.call(r,r[o],o,r,i),t(r[o],n,i)}}(r,n,e)}(t,function(t,e,o,i){t===r&&(n=i)}),n}(e,y)||i;return function(t,n){for(var e,i=r(o[t]||[]);!(e=i()).done;)(0,e.value)({name:t,value:n})}(p,{prop:i,path:p,oldValue:s,value:y}),!0}}}(y))}return y.on=function(t,n){for(var e,i=r(Array.isArray(t)?t:[t]);!(e=i()).done;){var a=e.value;o[a]||(o[a]=[]),o[a].push(n)}},y});
//# sourceMappingURL=tigerlily.umd.js.map
