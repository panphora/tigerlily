!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tigerlily=t()}(this,function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(t,r){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,void 0):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var r={},n=function(e,n){for(var o,i=t(Array.isArray(e)?e:[e]);!(o=i()).done;){var a=o.value;r[a]||(r[a]=[]),r[a].push(n)}};return function(e,o){if(void 0===o&&(o={}),"string"!=typeof e)throw new Error("tigerlily requires a database name");var i=o.defaults,a=void 0===i?{}:i,u=JSON.parse(localStorage.getItem(e)||"{}");u=Object.assign(a,u);var f=new Proxy(u,function n(o){return{get:function(e,t){return"object"==typeof e[t]&&null!==e[t]?new Proxy(e[t],n(o)):e[t]},set:function(n,i,a){return n[i]=a,localStorage.setItem(e,JSON.stringify(o)),"on"!==i&&function(e,n){for(var o,i=t(r[e]||[]);!(o=i()).done;)(0,o.value)({name:e,value:n})}(i,a),!0}}}(u));return f.on=n,f}});
//# sourceMappingURL=tigerlily.umd.js.map
